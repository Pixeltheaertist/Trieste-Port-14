# It could also be interesting to consider having a sparks effect happen a few seconds before a LightningStrike prototype spawns, to give players time to get out of the way.

- type: entity
  id: AdminInstantEffectThunder
  suffix: Thunder
  parent: AdminInstantEffectBase
  components:
  - type: PointLight
    energy: 4
    enabled: true
    radius: 100
    softness: 1000
  - type: TriggerOnSpawn
  - type: SpawnOnTrigger
    proto: AdminInstantEffectThunderSound # This is actually much simpler, we should just make lightning protos spawn their own sound entities instead of coding it <- Pix
  - type: TimedDespawn
    lifetime: 0.2

- type: entity
  id: AdminInstantEffectThunderSound # Used to create the sound effect for thunder. Persists a bit longer after the thunder despawns.
  suffix: ThunderSound
  parent: AdminInstantEffectBase
  components:
  - type: EmitSoundOnTrigger
    sound: /Audio/Effects/tesla_collapse.ogg
  - type: TriggerOnSpawn
  - type: TimedDespawn
    lifetime: 4

- type: entity
  id: Storm
  suffix: Eldritch Thunder
  parent: AdminInstantEffectBase # In the future, i'd like Eldritch Thunder to have a deeper, creepier thunder crack than the current tesla collapse <-- Pix
  components:
  - type: PointLight
    energy: 14
    enabled: true
    radius: 300
    softness: -100
    color: "#CBC3E3"
  - type: TriggerOnSpawn
  - type: SpawnOnTrigger
    proto: AdminInstantEffectThunderSound
  - type: TimedDespawn
    lifetime: 0.2

- type: entity
  id: Eldritch # These having a sprite that looks like a vertical lightning bolt could be cool at some point.
  suffix: Eldritch Strike
  parent: AdminInstantEffectThunder
  components:
  - type: PointLight
    energy: 100
    enabled: true
    radius: 200
    softness: -100
    color: "#CBC3E3"
  - type: ExplodeOnTrigger
  - type: EmpOnTrigger
    range: 3
    disableDuration: 3
  - type: Explosive
    explosionType: Default
    maxIntensity: 7
    intensitySlope: 3
    totalIntensity: 30 # about a ~4 tile radius
    canCreateVacuum: false
